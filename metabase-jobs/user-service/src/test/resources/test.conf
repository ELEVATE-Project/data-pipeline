include "base-test.conf"

kafka {
  input.topic = "dev.userCreate"
  groupId = "dev.users"
  output.topic = "develop.notifications"
}

task {
  sl.user.service.parallelism = 1
  sl.notification.parallelism = 1
}

postgres{
  host = "localhost"
  port = "5432"
  username = "postgres"
  password = "postgres"
  database = "test"
  tables = {
    solutionsTable = ${job.env}"_solutions"
    dashboardMetadataTable = ${job.env}"_dashboard_metadata"
    reportConfigTable = ${job.env}"_report_config"
  }
}

metabase {
  url = "http://localhost:3000/api"
  username = "vivek@shikshalokam.org"
  password = "Test@1234"
  database = "test"
  domainName = "http://localhost:3000/dashboard/"
}

domain {
    name = "@elevate-saas.com"
}

notify {
    type = "kafka"
    api.url = "https://saas-qa-interface.tekdinext.com/interface/v1/notification/send-raw"
    email.template = """
        {
          "to": "{email}",
          "subject": "Welcome to Our Analytic Platform",
          "body": "<p>Dear {name},</p><p>Please find the URL and login credentials for Metabase.</p><p>URL: <a href=\"{dashboardLink}\">Click here to access Metabase</a></p><p>Username: {email}</p><p>Password: {password}</p>"
        }
      """

      sms.template = """
        {
          "to": "{mobile}",
          "body": "Hello {name}, your Metabase login is ready. Username: {email}, Password: {password}, Link: {downloadLink}"
        }
      """
}